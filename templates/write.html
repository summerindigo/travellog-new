<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‹œì‘ì½”ë“œ(ìˆ˜ì •) -->
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
            crossorigin="anonymous"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    ></script>
    <script
            crossorigin="anonymous"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    ></script>

    <!-- êµ¬ê¸€í°íŠ¸ -->
    <link
            href="https://fonts.googleapis.com/css?family=Stylish&display=swap"
            rel="stylesheet"
    />

    <!--íŒŒì¼ì—…ë¡œë“œ ì½”ë“œ-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.js"></script>-->

    <title>ìš°ë¦¬ì˜ ì—¬í–‰</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200;300;400;500;600;700;900&display=swap"
          rel="stylesheet">

    <style>
        * {
            font-family: 'Noto Serif KR', serif;
        }

        .sitetop {
            height: 300px;
            width: 900px;
            margin: auto;
            background-image: url("https://miro.medium.com/max/1400/1*T4H2-9ToU2Eg5yns8YQhIA.jpeg");
            background-size: cover;
            background-position: center;

        }

        .sitetop > a {
            text-decoration: none;
        }

        .sitetitle {

            margin: 10px;
            padding: 120px 0px;
            text-align: center;
            font-size: 50px;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 2px 2px 0px #333333;
        }

        /* Add a black background color to the top navigation */
        .topnav {
            width: 900px;
            margin: auto;
            background-color: #333;
            overflow: hidden;
        }

        /* Style the links inside the navigation bar */
        .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }

        /* Change the color of links on hover */
        .topnav a:hover {
            background-color: #ddd;
            color: black;
        }

        /* Add a color to the active/current link */
        .topnav a.active {
            background-color: darkgoldenrod;
            color: white;
        }

        .wrap {
            width: 900px;
            margin: auto;
        }

        /* í¬ìŠ¤íŒ… ê´€ë ¨ css ì‹œì‘ */
        .form-post {
            width: 500px;
            margin: 20px auto;
            padding: 50px;
            border: black solid;
            border-radius: 5px;
        }

        /* ê°„ë‹¨ ì½”ë©˜íŠ¸ ìœ„ ì•„ë˜ ì—¬ë°± */
        .form-group-comment {
            margin-top: 15px;
            margin-bottom: 20px;
        }

        /* í¬ìŠ¤íŒ… ê´€ë ¨ css ë */

        .footer {
            bottom: 10px;
            height: 3rem; /* í‘¸í„° ë†’ì´ */
            background-color: darkgoldenrod;
            width: 900px;
            text-align: center;
            color: white;
        }

        #post-numbers:focus {
             background: yellow;
  color: red;
        }

        /* !!ì—¬ê¸°ëŠ” ëª¨ë°”ì¼ ë²„ì „ css !! */
        @media screen and (max-width: 900px) {
            .sitetop {
                width: 100%;
                height: 160px;
                background-image: url("../static/introduction.jpeg");
                background-size: cover;
                background-position: center;
                margin-top: 0;
            }

            .sitetitle {
                padding: 50px 0px;
                text-align: center;
                font-family: "Arial Black", sans-serif;
                font-size: 40px;
                font-weight: bold;
                color: #ffffff;
                text-shadow: 2px 2px 0px #333333;
            }

            /* Add a black background color to the top navigation */
            .topnav {
                width: 100%;
                margin: auto;
                background-color: #333;
                overflow: hidden;
            }

            /* Style the links inside the navigation bar */
            .topnav a {
                float: left;
                color: #f2f2f2;
                text-align: center;
                padding: 10px 16px;
                text-decoration: none;
                font-size: 12px;
            }

            /* Change the color of links on hover */
            .topnav a:hover {
                background-color: #ddd;
                color: black;
            }

            /* Add a color to the active/current link */
            .topnav a.active {
                background-color: darkgoldenrod;
                color: white;
            }

            .wrap {
                width: 100%;
                min-height: 100vh;
                padding-bottom: 50px;
            }

            /* write.htmlë§Œì˜ ë¶€ë¶„ s */
            .form-post {
                width: 80%;
                padding: 30px 25px 25px 20px;
                margin: auto;
                margin-top: 25px;
                margin-bottom: 40px;

            }

            /* write.htmlë§Œì˜ ë¶€ë¶„ e */
            .footer {
                width: 100%;
                bottom: 10px;
                height: 3rem; /* í‘¸í„° ë†’ì´ */
                background-color: darkgoldenrod;
                text-align: center;
                color: white;
            }
        }  /* !!ì—¬ê¸°ëŠ” ëª¨ë°”ì¼ ë²„ì „ css ë!! */
    </style>

    <script>
        // $(document).ready(function () {
        //     // ì´ê²ƒì€ íŒŒì¼ì—…ë¡œë“œ í• ë•Œ íŒŒì¼ëª…ì„ ë³´ì´ê²Œ í•´ì£¼ëŠ” ì½”ë“œ
        //     // bsCustomFileInput.init()
        // })

        function make_log() {
            var postForm = document.postForm;
            var pilsu_writer = postForm.writer.value; //writerëŠ” nameìœ¼ë¡œ ì„¤ì •í•œ ê²ƒ
            var pilsu_numbers = postForm.numbers.value;
            var pilsu_place = postForm.place.value;
            var pilsu_title = postForm.title.value;
            var pilsu_date = postForm.date.value;
            var pilsu_weather = postForm.weather.value;
            var pilsu_comment = postForm.comment.value;

            if (!pilsu_writer || !pilsu_numbers || !pilsu_place || !pilsu_title || !pilsu_date || !pilsu_weather || !pilsu_comment ) {
                alert("ë¹ˆì¹¸ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.")
                return
            } else {
                postForm.submit();

                    // ë³¸ë¬¸ ê¸°ë¡ ì‘ì„±ì—ì„œ id ê°’ìœ¼ë¡œ ì§€ì •í•œ ê²ƒì´ #ë’¤ì— ì íŒ ê²ƒ
                let writer = $("#post-writer").val();
                let numbers = $("#post-numbers").val();
                let place = $("#post-place").val();
                let title = $("#post-title").val();
                let date = $("#post-date").val();
                let weather = $("#post-weather").val();
                let comment = $("#post-comment").val();
                // let file =  $("#file")[0].files[0];
                let form_data = new FormData();

                form_data.append("writer_give", writer)
                form_data.append("numbers_give", numbers)
                form_data.append("place_give", place)
                form_data.append("title_give", title)
                form_data.append("date_give", date)
                form_data.append("weather_give", weather)
                // form_data.append("file_give", file)
                form_data.append("comment_give", comment)

                $.ajax({
                    type: "POST",
                    url: "/write",
                    data: form_data,
                    cache: false,
                    contentType: false,
                    processData: false,
                    success: function (response) {
                        if (response["result"] == "success") {

                            alert(response['msg']);
                            window.location.reload();
                        }
                    }
                })

            }

        }

    </script>
</head>

<body>
    <header class="wrap">
        <div class="sitetop">
            <a href="/"><h1 class="sitetitle">ìš°ë¦¬ì˜ ì—¬í–‰</h1></a>
        </div>
        <div class="topnav">
            <a href="/cloud">ì—¬í–‰ í‚¤ì›Œë“œ</a>
            <a class="active" href="/write">ì¼ê¸° ì“°ê¸°</a>
            <a href="/">ìš°ë¦¬ì˜ ì—¬í–‰ì¼ê¸°</a>
            <a href="/about">about</a>
        </div>
    </header>

    <div class="wrap">
        <!--ë³¸ë¬¸ ë¶€ë¶„: ê¸°ë¡ ì‘ì„±-->
        <form class="form-post" id="post-box" name="postForm">
            <div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <input class="form-control" id="post-writer" name="writer" placeholder="ID" maxlength="16">
                    </div>
                    <div class="form-group col-md-6">
                        <input class="form-control" id="post-numbers" name="numbers" placeholder="ë¹„ë°€ë²ˆí˜¸" type="password" minlength="8" maxlength="20"/>

                        <!-- ëˆ„ë¥´ë©´ ë¹„ë°€ë²ˆí˜¸ ë³´ì´ëŠ” ì²´í¬ë°•ìŠ¤ -->
                        <input type="checkbox" onclick="myFunction()">
                        <span style="font-size: 12px; color: grey;">ë¹„ë°€ë²ˆí˜¸ ë³´ê¸°</span>
                    </div>
                </div>


                <div class="form-group">
                    <input class="form-control" id="post-place" name="place" placeholder="ì—¬í–‰ì§€">
                </div>

                <div class="form-group">
                    <input class="form-control" id="post-title" name="title" placeholder="ì¼ê¸° ì œëª©">
                </div>
                <div class="form-row">
                    <!--ë‚ ì§œ-->
                    <div class="form-group col-md-6">
                        <input type="date" class="form-control" id="post-date" name="date"
                               placeholder="ë‚ ì§œ ì„ íƒ">
                    </div>

                    <!--ë‚ ì”¨-->
                    <div class="form-group col-md-6">
                        <select class="form-control" id="post-weather" name="weather">
                            <option>ë‚ ì”¨</option>
                            <option>â˜€ï¸ ë§‘ìŒ</option>
                            <option>â˜ï¸ íë¦¼</option>
                            <option>â˜‚ï¸ ë¹„</option>
                            <option>ğŸ’¨ï¸ ë°”ëŒ</option>
                            <option>â›„  ëˆˆ</option>
                        </select>
                    </div>
                </div>
            </div>
                <!--ë‚´ìš©ì‘ì„±-->
                <div class="form-group-comment">
                    <label for="post-comment">ì¼ê¸° ë‚´ìš©</label>
                    <textarea class="form-control" id="post-comment" rows="2"></textarea>
                    <div class="count-comment-length" id="count">
                        <span id="current_count">0</span>
                        <span id="maximum_count">/ 140</span>
                    </div>
                </div>

                <!--<form action='a.jsp'>-->
                <!--ë‚ ì”¨<br>-->
                <!--<input type='radio' name='weather' value='sunny'/>â˜€-->
                <!--                <div class="form-group" id="post-weather">-->
                <!--                    <label><input type="radio" name="post-weather" value="sunny" button style="margin:8px;">â˜€</label>-->
                <!--                    <label><input type="radio" name="post-weather" value="sunny" button style="margin:8px;">â˜</label>-->
                <!--                    <label><input type="radio" name="post-weather" value="sunny" button style="margin:8px;">â˜‚</label>-->
                <!--                    <label><input type="radio" name="post-weather" value="sunny" button style="margin:8px;">ğŸ’¨ï¸</label>-->
                <!--                    <label><input type="radio" name="post-weather" value="sunny" button style="margin:8px;">âš¡</label>-->
                <!--                    <label><input type="radio" name="post-weather" value="sunny" button style="margin:8px;">â›„</label>-->
                <!--                </div>-->

                <!--ì‚¬ì§„ì²¨ë¶€-->
                <!--            <div class="custom-file">-->
                <!--                <input type="file" class="custom-file-input" id="file">-->
                <!--                <label class="custom-file-label" for="file">ì‚¬ì§„ ì„ íƒ</label>-->
                <!--            </div>-->

                <button class="btn btn-primary" onclick="make_log()" type="submit">ì¼ê¸° ì €ì¥</button>
            </div>
        </div>
        <div class="card-columns" id="cards-box"></div>
    </div>

    <footer class="wrap">
        <div class="footer">
            <p>made by ì½”ìš°íŒŒ<br>
                <a href="https://www.notion.so/c4d4062b9ee64ec7b7c14f301e2f6a45">ìš°ë¦¬ì˜ ì—¬í–‰</a></p>
        </div>
    </footer>
</body>

</html>

<script type="text/javascript">
    // ë¹„ë°€ë²ˆí˜¸ ë³´ê¸° ê¸°ëŠ¥
    function myFunction() {
        var x = document.getElementById("post-numbers");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }

    // comment ê¸€ììˆ˜ ì„¸ê¸° - ìœ„ì¹˜ê°€ ì—¬ê¸°ì— ìˆì–´ë‚˜ ê¸°ëŠ¥ì´ ë¨
    $('textarea').keyup(function () {
        var characterCount = $(this).val().length,
            current_count = $('#current_count'),
            maximum_count = $('#maximum_count'),
            count = $('#count');
        current_count.text(characterCount);
    });
</script>
