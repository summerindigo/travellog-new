<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>

    <!-- Required meta tags -->
    <meta charset="utf-8"/>
    <meta
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
            name="viewport"
    />

    <!-- Bootstrap CSS -->
    <link
            crossorigin="anonymous"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            rel="stylesheet"
    />

    <!-- 구글폰트 -->
    <link
            href="https://fonts.googleapis.com/css?family=Stylish&display=swap"
            rel="stylesheet"
    />

    <!-- JS - 맨위에 있는 jquery 다른 것으로 바꿈-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
    <script
            crossorigin="anonymous"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    ></script>
    <script
            crossorigin="anonymous"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    ></script>

    <!--파일업로드 코드-->
    <script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.js"></script>

    <title>우리의 여행</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200;300;400;500;600;700;900&display=swap"
          rel="stylesheet">

    <style>
        * {
            font-family: 'Noto Serif KR', serif;
        }

        .sitetop {
            height: 300px;
            width: 900px;
            margin: auto;
            background-image: url("https://miro.medium.com/max/1400/1*T4H2-9ToU2Eg5yns8YQhIA.jpeg");
            background-size: cover;
            background-position: center;

        }

        .sitetitle {

            margin: 10px;
            padding: 120px 0px;
            text-align: center;
            font-size: 50px;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 2px 2px 0px #333333;
        }


        /* Add a black background color to the top navigation */
        .topnav {
            width: 900px;
            margin: auto;
            background-color: #333;
            overflow: hidden;
        }

        /* Style the links inside the navigation bar */
        .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }

        /* Change the color of links on hover */
        .topnav a:hover {
            background-color: #ddd;
            color: black;
        }

        /* Add a color to the active/current link */
        .topnav a.active {
            background-color: darkgoldenrod;
            color: white;
        }

        .wrap {
            width: 900px;
            margin: auto;
        }

        /* 포스팅 관련 css 시작 */
        .form-post {
            width: 500px;
            margin: 20px auto;
            padding: 50px;
            border: black solid;
            border-radius: 5px;
        }

        /* 간단 코멘트 위 아래 여백 */
        .form-group-comment {
            margin-top: 15px;
            margin-bottom: 20px;
        }

        /* 포스팅 관련 css 끝 */

        .footer {
            bottom: 10px;
            height: 3rem; /* 푸터 높이 */
            background-color: darkgoldenrod;
            width: 900px;
            text-align: center;
            color: white;
        }

        /* !!여기는 모바일 버전 css !! */
        @media screen and (max-width: 900px) {   
            .sitetop {
                width: 100%;
                height: 160px;
                background-image: url("https://miro.medium.com/max/1400/1*T4H2-9ToU2Eg5yns8YQhIA.jpeg");
                background-size: cover;
                background-position: center;
                margin-top: 0;
            }
            
            .sitetitle {
                padding: 50px 0px;
                text-align: center;
                font-family: "Arial Black", sans-serif;
                font-size: 40px;
                font-weight: bold;
                color: #ffffff;
                text-shadow: 2px 2px 0px #333333;
            }

            /* Add a black background color to the top navigation */
            .topnav {
                width: 100%;
                margin: auto;
                background-color: #333;
                overflow: hidden;
            }

            /* Style the links inside the navigation bar */
            .topnav a {
                float: left;
                color: #f2f2f2;
                text-align: center;
                padding: 10px 16px;
                text-decoration: none;
                font-size: 12px;
            }

            /* Change the color of links on hover */
            .topnav a:hover {
                background-color: #ddd;
                color: black;
            }

            /* Add a color to the active/current link */
            .topnav a.active {
                background-color: darkgoldenrod;
                color: white;
            }

            .wrap {
                width: 100%;
            }

            /* write.html만의 부분 s */
            .form-post {
                width: 80%;
                padding: 30px 25px 25px 20px;
                margin: auto;
                margin-top: 25px;
                margin-bottom: 40px;
                
            }
            /* write.html만의 부분 e */
            

            .footer {
                width: 100%;
                bottom: 10px;
                height: 3rem; /* 푸터 높이 */
                background-color: darkgoldenrod;
                text-align: center;
                color: white;
            }
        }
        /* !!여기는 모바일 버전 css 끝!! */
    </style>

    <script>
        $(document).ready(function () {
            // 이것은 파일업로드 할때 파일명을 보이게 해주는 코드
            bsCustomFileInput.init()
        })

        // 본문 기록 작성에서 id 값으로 지정한 것이 #뒤에 적힌 것
        let id_writer = $('#post-writer').val()  
        let id_numbers =  $('#post-numbers').val()
        let place =  $('#post-place').val()
        let title =  $('#post-title').val()
        let date =  $('#post-date').val()
        let weather =  $('#post-weather').val()
        let file =  $('#post-file').val()
        let comment =  $('#post-comment').val()


        let form_data = new FormData()
        form_data.append("id_writer_give", writer)
        form_data.append("id_numbers_give", numbers)
        form_data.append("place_give", place)
        form_data.append("title_give", title)
        form_data.append("date_give", date)
        form_data.append("weather_give", weather)
        form_data.append("file_give", file)
        form_data.append("comment_give", comment)


        function postArticle() {
            $.ajax({
                type: "POST",
                url: "/menu1",
                data: form_data,
                cache: false,
                contentType: false,
                processData: false,
                success: function (response) {
                    alert(response['msg'])
                    window.location.reload()
                }
            })

            
        }
    </script>

</head>

<body>
<header class="wrap">
    <div class="sitetop">
        <h1 class="sitetitle">우리의 여행</h1>
    </div>
    <div class="topnav">
        <a href="/">우리의 여행일기</a>
        <a class="active" href="/menu1">일기 쓰기</a>
        <a href="#mypost">내 일기 모아보기</a>
        <a href="#about">about</a>
    </div>
</header>

<div class="wrap">

    <!--본문 부분: 기록 작성-->
    <div class="form-post" id="post-box">
        <div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <input class="form-control" id="post-writer" placeholder="작성자">
                </div>
                <div class="form-group col-md-6">
                    <input class="form-control" id="post-numbers" placeholder="숫자">
                </div>

            </div>

            <div class="form-group">
                <input class="form-control" id="post-place" placeholder="여행지">
            </div>
            <div class="form-group">
                <input class="form-control" id="post-title" placeholder="일기 제목">
            </div>

            <!--날짜-->
            <div class="form-group">
                <input type="date" class="form-control" id="post-date" name="trip-start"
                       placeholder="날짜 선택">
            </div>

<!--            날씨 중에 쓸 이모티콘을 선택해야 함-->
<!--            <form action='a.jsp'>-->
<!--                날씨<br>-->
<!--                <input type='radio' name='weather' value='sunny'/>️☀️-->

            <div class="form-group" id="post-weather">
                <button type="button" class="btn" data-toggle="button" aria-pressed="false" autocomplete="off">☀️</button>
                <button type="button" class="btn" data-toggle="button" aria-pressed="false" autocomplete="off">☁️</button>
                <button type="button" class="btn">☔</button>
                <button type="button" class="btn">💨</button>
                <button type="button" class="btn">⚡</button>
                <button type="button" class="btn">☃️️</button>
            </div>


            <!--사진첨부-->
            <div class="custom-file">
                <input type="file" class="custom-file-input" id="post-file">
                <label class="custom-file-label" for="file">사진 선택</label>
            </div>

            <!--내용작성-->
            <div class="form-group-comment">
                <label for="post-comment">일기 내용</label>
                <textarea class="form-control" id="post-comment" rows="2"></textarea>
            </div>

            <button class="btn btn-primary" onclick="postArticle()" type="button">일기 저장</button>
        </div>
    </div>
    <div class="card-columns" id="cards-box">
    </div>
</div>

</div>

<footer class="wrap">
    <div class="footer">
        <p>made by 코우파<br>
            <a href="https://www.notion.so/c4d4062b9ee64ec7b7c14f301e2f6a45">우리의 여행</a></p>

    </div>
</footer>
</body>
</html>