<!DOCTYPE html>
<html lang="en">
<head>
    <!-- 부트스트랩 시작코드(수정) -->
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <link href='{{ url_for("static", filename="mystyle.css") }}' rel="stylesheet">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <!-- 1. 제이쿼리 버전 변경 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

    <script type="text/javascript">

        $(document).ready(function () {
            showLog();
        });

        function showLog() {
            $.ajax({
                // 2. url 수정
                type: "POST",
                url: "/",
                data: {},
                success: function (response) {
                    let logs = response['travel_logs']
                    for (let i = 0; i < logs.length; i++) {
                        let title = logs[i]['title']
                        let place = logs[i]['place']
                        let comment = logs[i]['comment']
                        let writer = logs[i]['writer']
                        let weather = logs[i]['weather']
                        let date = logs[i]['date']

                        let temp_html = `<div class="card">
                                            <div class="card-body">
                                                <p class="card-title" style="font-size: small; text-align:left;">
                                                    여행지: <span style="font-weight: 600; color: olivedrab;">${place}</span>
                                                    <span style="float:right;">${weather}</span>
                                                </p>
                                                <p class="card-text"><h5 style="font-weight: 600;">${title}</h5></p>
                                                <p class="card-text">${comment}</p>
                                                <div class="card-bottom" style="font-size: small; text-align:left;">
                                                    by. ${writer}
                                                    <span class="text-muted" style="float:right;">${date}</span>
                                                </div>
                                            </div>
                                        </div>`
                        // 3. append 할 대상이 잘못 적혀있던 오류 수정
                        $('#card-box').append(temp_html)
                    }
                }
            })
        }
    </script>

    <!-- 구글폰트 -->
    <link
            href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@300&family=Nanum+Gothic&display=swap"
            rel="stylesheet"
    />

    <!--파일업로드 코드-->
    <script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.js"></script>

    <title>우리의 여행</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200;300;400;500;600;700;900&display=swap"
          rel="stylesheet">

    <style>

        /* bootstrap css문제 해결을 위해 class에서 id로 변경 */
        #card-box {
            flex-flow: wrap;
            justify-content: space-between;
            width: 900px;
            margin: auto;
            padding-top: 20px;
        }

        .card {
            padding: 10rem, 10rem, 0, 10rem;
            margin-bottom: 10px;
            width: 280px;
        }

        .card-bottom {
            margin-top: auto;
            margin-bottom: 5px;
        }


        @media screen and (max-width: 900px) {

            /* index.html만의 부분 s */
            #card-deck {
                width: 100%;
                padding-bottom: 5px;

            }

            .card {
                min-width: 250px;
            }

            /* index.html만의 부분 e */

        }
        /* !!여기는 모바일 버전 css 끝!! */
    </style>
</head>

<body>
    <header class="wrap">
        <div class="sitetop" onclick="window.location.href='/cloud'">
            <h1 class="sitetitle">우리의 여행</h1>
        </div>
        <div class="topnav">
            <a href="/cloud">여행 키워드</a>
            <a href="/write">일기 쓰기</a>
            <a class="active" href="/">우리의 여행일기</a>
            <a href="/about">about</a>
        </div>
    </header>

    <div class="wrap">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
                integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
                crossorigin="anonymous"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>

        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" src="https://placeimg.com/1080/500/animals" alt="First slide">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>My Caption Title (1st Image)</h5>
                        <p>The whole caption will only show up if the screen is at least medium size.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="https://placeimg.com/1080/500/arch" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="https://placeimg.com/1080/500/nature" alt="Third slide">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>

        <!-- 4. bootstrap css 문제 해결을 위해 class에서 id로 변경 -->
        <div id="card-box" class="card-columns">
            <!-- <div class="card">-->
                <!-- <img class="card-img-top"-->
                <!-- src="https://lh3.googleusercontent.com/proxy/WNDmMDm4o6CuKMc0_AIeH99MYJX2gFtfOIlTVH0KeKyFGSlQKsxQkS_djhcaunyyRzdywtD_fjIQbUy3C2Oa89A8OkF4lb_2cYzkt9ZIfOTVjqsPx2wj_w"-->
                <!-- alt="Card image cap">-->
                <!-- <div class="card-body">-->
                <!-- <h5 class="card-title">일기 제목입니다. <span style="font-size: small">여행지</span></h5>-->
                <!-- <p class="card-text">간단한 일기 내용입니다.</p>-->
                <!-- <p class="card-text"><small class="text-muted">작성 날짜입니다.</small></p>-->
                <!-- </div>-->
            <!-- </div>-->
        </div>
    </div>

    <footer class="wrap">
        <div class="footer">
            <p>made by 코우파<br>
                <a href="https://www.notion.so/c4d4062b9ee64ec7b7c14f301e2f6a45">우리의 여행</a></p>
        </div>
    </footer>
</body>

</html>